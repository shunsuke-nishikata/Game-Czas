<!--こちらのコードでは#my-message<#= @message.id %>の要素が作成される前に呼び出しがかかるので表示ができない-->
<!--$("#my-message<%#= @message.id %>").html("<%#= j(render partial: 'messages/message', locals: { message: @message }) %>")-->

<!--デベロッパーツールのコンソールでjQuery.fn.init {}__proto__: Object(0)が表示されていた-->
<!--オブジェクトがゼロだということ-->
<!--.appendは末尾に指定の文字列を追加するという意味-->
<!--.append($("<div></div>"でオブジェクトを作ってあげる-->
<!--idとパーシャルで作成したhtmlを表示-->


$('.content__fields--block').append($("<div></div>", {id: "#my-message<%= @message.id %>"}).html("<%= j(render partial: 'messages/message', locals: { message: @message }) %>"))
$("input#message_message").val('')


<!--$(".message-box__user-right").append("  <div class="message-field<%#= @message.id %>">-->
<!--                                          <p class="says-r"><%#= @message.message %></p>-->
                                          <!--<%#= @message.created_at.strftime("%Y-%m-%d %H:%M")%>-->
<!--                                        </div>-->
<!--                                        <div class="message-user<%#= @message.id %>">-->
<!--                                          <%#= link_to  user_path(@message.user) do %>-->
<!--                                            <%#= attachment_image_tag @message.user, :image, format: 'jpeg' , size: "100x100", class: "message-icon-r"%>-->
<!--                                          <#% end %>-->
<!--                                        </div>-->
<!--                                    ")-->